# ุฏููู ุฅุนุฏุงุฏ Facebook Graph API

## ๐ ูุธุฑุฉ ุนุงูุฉ

ุชู ุฅุถุงูุฉ ูุธุงู ูุชูุงูู ูุนุฑุถ ูุญุชูู ุตูุญุฉ ุงูููุณุจูู ุงูุฑุณููุฉ ูู ุตูุญุฉ ุงููุนุงููุงุช:
- โ ุงูููุดูุฑุงุช (Posts)
- โ ุงูุตูุฑ (Photos)
- โ ุงูููุฏูููุงุช (Videos)

**ุฑุงุจุท ุงูุตูุญุฉ:** https://www.facebook.com/profile.php?id=100064061133842

---

## ๐ ุงูููุฒุงุช ุงููุถุงูุฉ

### ุตูุญุฉ ุงููุนุงููุงุช (`/events`)
- **ุนุฑุถ ุชุจููุจู:** ููุดูุฑุงุช | ุตูุฑ | ููุฏูููุงุช
- **ุชุญุฏูุซ ุชููุงุฆู** ูู ุงูููุณุจูู
- **ุจูุงูุงุช ุชุฌุฑูุจูุฉ (Mock Data)** ุนูุฏ ุนุฏู ุชููุฑ Access Token
- **ุชุตููู ุงุญุชุฑุงูู** ุจุฃููุงู ุงูุญููุฉ (ุฃุฒุฑู/ุฐูุจู)
- **ุฑูุงุจุท ูุจุงุดุฑุฉ** ููููุณุจูู

### API Endpoints ุงูุฌุฏูุฏุฉ

1. **`GET /api/facebook/posts`** - ุฌูุจ ุงูููุดูุฑุงุช
2. **`GET /api/facebook/feed`** - ุฌูุจ Feed ูุงูู
3. **`GET /api/facebook/photos`** - ุฌูุจ ุงูุตูุฑ
4. **`GET /api/facebook/videos`** - ุฌูุจ ุงูููุฏูููุงุช

---

## โ๏ธ ุงูุฅุนุฏุงุฏ (ุฎุทูุงุช ุงุฎุชูุงุฑูุฉ)

ุญุงููุงูุ ุงููููุน ูุนูู ุจู **ุจูุงูุงุช ุชุฌุฑูุจูุฉ**. ูุชูุนูู ุงูุจูุงูุงุช ุงูุญููููุฉ ูู ุงูููุณุจูู:

### ุงูุฎุทูุฉ 1: ุฅูุดุงุก Facebook App

1. ุงุฐูุจ ุฅูู: https://developers.facebook.com/
2. ุณุฌู ุฏุฎูู ุจุญุณุงุจ ุงูููุณุจูู
3. ุงุถุบุท **My Apps** โ **Create App**
4. ุงุฎุชุฑ **Business** ุซู **Continue**
5. ุงููุฃ ุงูุจูุงูุงุช:
   - **App Name:** ElNagy Campaign
   - **Contact Email:** ุจุฑูุฏู ุงูุฅููุชุฑููู
   - **Business Account:** ุงุฎุชุฑ ุฃู ุฃูุดุฆ ุญุณุงุจ

### ุงูุฎุทูุฉ 2: ุฅุถุงูุฉ Facebook Graph API

1. ูู ููุญุฉ ุงูุชุญููุ ุงุฐูุจ ุฅูู **Add Products**
2. ุงุจุญุซ ุนู **Facebook Login** ูุงุถุบุท **Set Up**
3. ูู ุงูุฅุนุฏุงุฏุงุช:
   - **Valid OAuth Redirect URIs:** ุฃุถู `http://localhost:5000`

### ุงูุฎุทูุฉ 3: ุงูุญุตูู ุนูู Access Token

#### ุทุฑููุฉ ุณุฑูุนุฉ (ูุคูุชุฉ - ููุชุทููุฑ):

1. ุงุฐูุจ ุฅูู: https://developers.facebook.com/tools/explorer/
2. ุงุฎุชุฑ App ุงูุฎุงุต ุจู
3. ูู **Permissions**ุ ุฃุถู:
   - `pages_read_engagement`
   - `pages_show_list`
   - `pages_read_user_content`
4. ุงุถุบุท **Generate Access Token**
5. ุงูุณุฎ ุงูู Token

โ๏ธ **ููุงุญุธุฉ:** ูุฐุง Token ูุคูุช (ุณุงุนุฉ - ุณุงุนุชูู)

#### ุทุฑููุฉ ุฏุงุฆูุฉ (ููุฅูุชุงุฌ):

1. ุงุญุตู ุนูู **User Access Token** (ูู ุงูุฎุทูุฉ ุงูุณุงุจูุฉ)
2. ุงุฐูุจ ุฅูู: https://developers.facebook.com/tools/debug/accesstoken/
3. ุงูุตู Token ุงูุฎุงุต ุจู
4. ุงุถุบุท **Debug**
5. ุงุถุบุท **Extend Access Token** (ูุตุจุญ ุตุงูุญุงู ูู 60 ููู)
6. ููุญุตูู ุนูู Page Access Token:
   ```bash
   https://graph.facebook.com/v18.0/me/accounts?access_token=YOUR_EXTENDED_TOKEN
   ```
7. ุงูุณุฎ `access_token` ุงูุฎุงุต ุจุตูุญุชู

### ุงูุฎุทูุฉ 4: ุฅุถุงูุฉ Token ูููุดุฑูุน

#### ูู ุงูุจุงู ุฅูุฏ:

ุฃุถู ุงูุณุทุฑ ุงูุชุงูู ูู ููู `.env`:

```env
FACEBOOK_ACCESS_TOKEN=YOUR_PAGE_ACCESS_TOKEN_HERE
```

#### ูุซุงู:
```env
PORT=5000
MONGODB_URI=mongodb+srv://...
FACEBOOK_ACCESS_TOKEN=EAABsbCS1iHgBO...
```

### ุงูุฎุทูุฉ 5: ุฅุนุงุฏุฉ ุชุดุบูู ุงูุฎุงุฏู

```bash
cd backend
npm run dev
```

---

## ๐ ููู ูุนูู ุงููุธุงูุ

### ุงููุถุน ุงูุญุงูู (ุจุฏูู Token):
```
ุงููุณุชุฎุฏู โ ุตูุญุฉ /events โ facebookAPI.getPosts()
                              โ
                         Backend: /api/facebook/posts
                              โ
                    ูุง ููุฌุฏ FACEBOOK_ACCESS_TOKEN
                              โ
                         ุฅุฑุฌุงุน Mock Data (ุจูุงูุงุช ุชุฌุฑูุจูุฉ)
```

### ุจุนุฏ ุฅุถุงูุฉ Token:
```
ุงููุณุชุฎุฏู โ ุตูุญุฉ /events โ facebookAPI.getPosts()
                              โ
                         Backend: /api/facebook/posts
                              โ
                    ููุฌุฏ FACEBOOK_ACCESS_TOKEN
                              โ
                    Facebook Graph API
                              โ
                    ุจูุงูุงุช ุญููููุฉ ูู ุตูุญุฉ ุงูููุณุจูู
```

---

## ๐ ุงุฎุชุจุงุฑ API

### ุงุฎุชุจุงุฑ ูุญูู:

```bash
# ุฌูุจ ุงูููุดูุฑุงุช
curl http://localhost:5000/api/facebook/posts

# ุฌูุจ ุงูุตูุฑ
curl http://localhost:5000/api/facebook/photos

# ุฌูุจ ุงูููุฏูููุงุช
curl http://localhost:5000/api/facebook/videos
```

### ุงูุฑุฏ ุงููุชููุน:

```json
{
  "success": true,
  "data": [
    {
      "id": "...",
      "message": "ูุต ุงูููุดูุฑ...",
      "created_time": "2025-10-10T12:00:00+0000",
      "full_picture": "https://...",
      "permalink_url": "https://facebook.com/..."
    }
  ],
  "source": "mock" // ุฃู "facebook" ุฅุฐุง ูุงู Token ููุนู
}
```

---

## ๐ ุงููููุงุช ุงูููุถุงูุฉ/ุงูููุนุฏูุฉ

### Backend:
1. **`/backend/routes/facebook.js`** (ุฌุฏูุฏ)
   - ูุนุงูุฌ ุทูุจุงุช Facebook API
   - Mock data ููุชุทููุฑ
   - ูุนุงูุฌุฉ ุงูุฃุฎุทุงุก

2. **`/backend/server.js`** (ูุนุฏู)
   - ุฅุถุงูุฉ route: `/api/facebook`

### Frontend:
1. **`/frontend/src/pages/events.js`** (ูุนุฏู ุจุงููุงูู)
   - ุชุตููู ุฌุฏูุฏ ุจุงููุงูู
   - 3 ุชุจููุจุงุช (ููุดูุฑุงุชุ ุตูุฑุ ููุฏูููุงุช)
   - ุชูุงูู ูุน Facebook API
   - Animations ุจู Framer Motion

2. **`/frontend/src/lib/api.js`** (ูุนุฏู)
   - ุฅุถุงูุฉ `facebookAPI` object
   - ุฏูุงู: getPosts, getFeed, getPhotos, getVideos

---

## ๐จ ุงูุชุตููู

### ุงูุฃููุงู ุงููุณุชุฎุฏูุฉ:
- **Primary:** ุฃุฒุฑู ุฏุงูู (#1e40af, #1e3a8a)
- **Gold:** ุฐูุจู (#ca8a04, #eab308)
- **Facebook Blue:** #1877f2
- **ุฎูููุฉ:** ุฑูุงุฏู ูุงุชุญ (#f9fafb)

### ุงูุฎุทูุท:
- **Cairo:** ูููุตูุต ุงูุนุฑุจูุฉ
- **Font Weight:** Bold (700) - Black (900)

### ุงูููููุงุช:
- **Cards:** ุจูุถุงุก ูุน ุธู ูุชุฃุซูุฑ hover
- **Tabs:** ุชุจููุจุงุช ุชูุงุนููุฉ ูุน ุนุฏุงุฏุงุช
- **Images:** ุชุฃุซูุฑ ุชูุจูุฑ ุนูุฏ hover
- **Videos:** ุฒุฑ ุชุดุบูู ูุฑูุฒู + ูุฏุฉ ุงูููุฏูู

---

## ๐ ุงูุฃูุงู

### โ ุชู ุชุทุจูู:
- Rate Limiting ุนูู API
- CORS ูุญุฏุฏ ููู Frontend
- Helmet ูุญูุงูุฉ Headers
- ูุนุงูุฌุฉ ุงูุฃุฎุทุงุก ุงูุขููุฉ

### โ๏ธ ููุงุญุธุงุช ุฃูููุฉ:
- **ูุง ุชุดุงุฑู** Access Token ูู ุงูููุฏ
- ุงุณุชุฎุฏู ููู `.env` ุฏุงุฆูุงู
- ุฃุถู `.env` ูู `.gitignore`
- ุฌุฏุฏ Token ูู 60 ููู (Page Tokens)

---

## ๐ ุญู ุงููุดุงูู

### ูุดููุฉ: "ูุง ุชูุฌุฏ ููุดูุฑุงุช"

**ุงูุณุจุจ:** ูู ูุชู ุฅุนุฏุงุฏ FACEBOOK_ACCESS_TOKEN

**ุงูุญู:**
1. ุชุญูู ูู ูุฌูุฏ Token ูู `.env`
2. ุชุฃูุฏ ูู ุตูุงุญูุฉ Token
3. ุฃุนุฏ ุชุดุบูู Backend

### ูุดููุฉ: "Facebook API Error"

**ุงูุณุจุจ:** Token ููุชูู ุฃู ุตูุงุญูุงุช ูุงูุตุฉ

**ุงูุญู:**
1. ุงุญุตู ุนูู Token ุฌุฏูุฏ
2. ุชุฃูุฏ ูู ุงูุตูุงุญูุงุช:
   - `pages_read_engagement`
   - `pages_show_list`
   - `pages_read_user_content`

### ูุดููุฉ: "CORS Error"

**ุงูุณุจุจ:** ุฅุนุฏุงุฏุงุช CORS ูู Backend

**ุงูุญู:**
```javascript
// ูู backend/server.js
app.use(cors({
  origin: 'http://localhost:3000', // ุฃู 3001
  credentials: true
}));
```

---

## ๐ ุฅุญุตุงุฆูุงุช

### ุงูุจูุงูุงุช ุงูุชุฌุฑูุจูุฉ (Mock):
- **ููุดูุฑุงุช:** 8 ููุดูุฑุงุช ุชุฌุฑูุจูุฉ
- **ุตูุฑ:** 12 ุตูุฑุฉ
- **ููุฏูููุงุช:** 10 ููุฏูููุงุช

### ูุน Facebook API ุงูุญูููู:
- **ุญุฏ ุงูููุดูุฑุงุช:** 12 ููุดูุฑ
- **ุญุฏ ุงูุตูุฑ:** 12 ุตูุฑุฉ
- **ุญุฏ ุงูููุฏูููุงุช:** 8 ููุฏูููุงุช

ูููู ุชุบููุฑ ุงูุญุฏูุฏ ุนุจุฑ parameter `limit`:
```javascript
facebookAPI.getPosts({ limit: 20 })
```

---

## ๐ ุงูุชุทููุฑ ุงููุณุชูุจูู

### ููุฒุงุช ููุชุฑุญุฉ:
- [ ] Infinite Scroll ููููุดูุฑุงุช
- [ ] Lightbox ููุตูุฑ
- [ ] ูุดุบู ููุฏูู ุฏุงุฎูู
- [ ] ุชุตููุฉ ุญุณุจ ุงูุชุงุฑูุฎ
- [ ] ุงูุจุญุซ ูู ุงูููุดูุฑุงุช
- [ ] ุนุฏุงุฏุงุช ุงูุฅุนุฌุงุจุงุช ูุงูุชุนูููุงุช
- [ ] ูุดุงุฑูุฉ ุงูููุดูุฑุงุช

---

## ๐ ุงูุฏุนู

### ุงูููุงุฑุฏ ุงููููุฏุฉ:
- **Facebook Graph API Docs:** https://developers.facebook.com/docs/graph-api
- **Access Token Debugger:** https://developers.facebook.com/tools/debug/accesstoken/
- **Graph API Explorer:** https://developers.facebook.com/tools/explorer/

---

## โ ุงูุฎูุงุตุฉ

### ุงููุถุน ุงูุญุงูู:
โ **ูุนูู ุจุฏูู ุฅุนุฏุงุฏ** (Mock Data)  
โ **ุฌุงูุฒ ููุงุณุชุฎุฏุงู** ููุฑุงู  
โ **ุชุตููู ุงุญุชุฑุงูู** ูุงูู

### ููุญุตูู ุนูู ุจูุงูุงุช ุญููููุฉ:
1. ุฃูุดุฆ Facebook App
2. ุงุญุตู ุนูู Page Access Token
3. ุฃุถู Token ูู `.env`
4. ุฃุนุฏ ุชุดุบูู ุงูุฎุงุฏู

**ุงูุจูุงูุงุช ุงูุชุฌุฑูุจูุฉ ูุงููุฉ ููุชุทููุฑ ูุงูุนุฑุถ!** ๐
