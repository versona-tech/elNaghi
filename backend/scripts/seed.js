require('dotenv').config();
const bcrypt = require('bcryptjs');
const connectDB = require('../config/database');
const User = require('../models/User');
const Program = require('../models/Program');
const News = require('../models/News');

const seedDatabase = async () => {
  try {
    await connectDB();

    console.log('๐ฑ ุจุฏุก ุนูููุฉ ุชุนุจุฆุฉ ูุงุนุฏุฉ ุงูุจูุงูุงุช...');

    // Clear existing data
    await User.deleteMany({});
    await Program.deleteMany({});
    await News.deleteMany({});

    // Create admin user
    const salt = await bcrypt.genSalt(10);
    const hashedPassword = await bcrypt.hash('admin123', salt);

    const admin = await User.create({
      username: 'admin',
      password: hashedPassword,
      fullName: 'ูุฏูุฑ ุงููุธุงู',
      email: 'admin@elnagy.com',
      role: 'admin',
      isActive: true
    });

    console.log('โ ุชู ุฅูุดุงุก ุงููุณุชุฎุฏู ุงูุฃุณุงุณู');

    // Seed Program Data
    const programData = [
      {
        category: 'ุชุนููู',
        title: 'ุชุทููุฑ ุงููุฏุงุฑุณ ูุงูุงุฑุชูุงุก ุจูุณุชูู ุงูุชุนููู',
        description: 'ุฑูุน ููุงุกุฉ ุงููุฏุงุฑุณ ูุชุฌููุฒูุง ุจุฃุญุฏุซ ุงููุณุงุฆู ุงูุชุนููููุฉ',
        points: [
          'ุตูุงูุฉ ูุชุทููุฑ ุงููุจุงูู ุงููุฏุฑุณูุฉ ุงููุฏููุฉ',
          'ุชูููุฑ ูุณุงุฆู ุชุนููููุฉ ุญุฏูุซุฉ',
          'ุฏุนู ุงููุนูููู ูุชุฏุฑูุจูู',
          'ููุงูุญุฉ ุงูุชุณุฑุจ ูู ุงูุชุนููู',
          'ุชูููุฑ ุญุงููุงุช ูุฏุฑุณูุฉ'
        ],
        icon: 'graduation-cap',
        order: 1
      },
      {
        category: 'ุตุญุฉ',
        title: 'ุชุญุณูู ุงูุฎุฏูุงุช ุงูุตุญูุฉ',
        description: 'ุชูููุฑ ุฑุนุงูุฉ ุตุญูุฉ ูุชููุฒุฉ ูุฌููุน ุงูููุงุทููู',
        points: [
          'ุชุทููุฑ ุงููุญุฏุงุช ุงูุตุญูุฉ',
          'ุชูููุฑ ุงูุฃุฏููุฉ ูุงููุณุชูุฒูุงุช ุงูุทุจูุฉ',
          'ุฏุนู ุงูุชุฃููู ุงูุตุญู ุงูุดุงูู',
          'ููุงูุญุฉ ุงูุฃูุฑุงุถ ุงููุฒููุฉ',
          'ุชูููุฑ ุณูุงุฑุงุช ุฅุณุนุงู ูุฌูุฒุฉ'
        ],
        icon: 'hospital',
        order: 2
      },
      {
        category: 'ุชุดุบูู',
        title: 'ุฎูู ูุฑุต ุนูู ููุดุจุงุจ',
        description: 'ูุญุงุฑุจุฉ ุงูุจุทุงูุฉ ูุชูููุฑ ูุฑุต ุนูู ุญููููุฉ',
        points: [
          'ุฏุนู ุงููุดุฑูุนุงุช ุงูุตุบูุฑุฉ ูุงููุชูุณุทุฉ',
          'ุงูุชุฏุฑูุจ ุงููููู ููุดุจุงุจ',
          'ุฑุจุท ุงูุฎุฑูุฌูู ุจุณูู ุงูุนูู',
          'ุชุดุฌูุน ุงูุงุณุชุซูุงุฑ ุงููุญูู',
          'ุจุฑุงูุฌ ุงููุฑูุถ ุงูููุณุฑุฉ'
        ],
        icon: 'briefcase',
        order: 3
      },
      {
        category: 'ุจููุฉ ุชุญุชูุฉ',
        title: 'ุชุทููุฑ ุงูุจููุฉ ุงูุชุญุชูุฉ',
        description: 'ุฑูุน ููุงุกุฉ ุงูุทุฑู ูุงููุฑุงูู ุงูุนุงูุฉ',
        points: [
          'ุฑุตู ูุตูุงูุฉ ุงูุทุฑู ุงูุฏุงุฎููุฉ',
          'ุชูููุฑ ููุงู ุดุฑุจ ูุธููุฉ',
          'ุชุทููุฑ ุดุจูุฉ ุงูุตุฑู ุงูุตุญู',
          'ุฅูุงุฑุฉ ุงูุดูุงุฑุน',
          'ุชุญุณูู ุดุจูุฉ ุงูููุฑุจุงุก'
        ],
        icon: 'road',
        order: 4
      },
      {
        category: 'ุดุจุงุจ ูุฑูุงุถุฉ',
        title: 'ุฑุนุงูุฉ ุงูุดุจุงุจ ูุชุทููุฑ ุงูุฑูุงุถุฉ',
        description: 'ุงูุงูุชูุงู ุจุงูุดุจุงุจ ูุฏุนู ุงูููุงูุจ ุงูุฑูุงุถูุฉ',
        points: [
          'ุฅูุดุงุก ูุฑุงูุฒ ุดุจุงุจ ุญุฏูุซุฉ',
          'ุชุทููุฑ ุงูููุงุนุจ ุงูุฑูุงุถูุฉ',
          'ุฏุนู ุงููุฑู ุงููุญููุฉ',
          'ุจุฑุงูุฌ ุงูุชุดุงู ุงูููุงูุจ',
          'ุชูุธูู ุจุทููุงุช ููุณุงุจูุงุช'
        ],
        icon: 'futbol',
        order: 5
      },
      {
        category: 'ุชูููุฉ',
        title: 'ุงูุชูููุฉ ุงูุงูุชุตุงุฏูุฉ ุงููุญููุฉ',
        description: 'ุชุญุณูู ุงูุงูุชุตุงุฏ ุงููุญูู ูุฏุนู ุงูุฃุณุฑ ุงูููุชุฌุฉ',
        points: [
          'ุฏุนู ุงููุฒุงุฑุนูู ูุงูููุงุญูู',
          'ุชุทููุฑ ุงูุตูุงุนุงุช ุงูุญุฑููุฉ',
          'ุชุดุฌูุน ุงููุดุฑูุนุงุช ุงูููุฒููุฉ',
          'ุชูููุฑ ุฃุณูุงู ููููุชุฌุงุช ุงููุญููุฉ',
          'ุจุฑุงูุฌ ูุญู ุงูุฃููุฉ'
        ],
        icon: 'chart-line',
        order: 6
      }
    ];

    await Program.insertMany(programData);
    console.log('โ ุชู ุฅุถุงูุฉ ุงูุจุฑูุงูุฌ ุงูุงูุชุฎุงุจู');

    // Seed Sample News
    const newsData = [
      {
        title: 'ุงูุทูุงู ุงูุญููุฉ ุงูุงูุชุฎุงุจูุฉ ูููุฑุดุญ ูุญูุฏ ุฅุจุฑุงููู ุนูู ุงููุงุบู',
        body: 'ูู ุฌู ูู ุงูุญูุงุณ ูุงูุชูุงุคูุ ุงูุทููุช ุงูููู ูุนุงููุงุช ุงูุญููุฉ ุงูุงูุชุฎุงุจูุฉ ูููุฑุดุญ ูุญูุฏ ุฅุจุฑุงููู ุนูู ุงููุงุบู ุนู ุฏุงุฆุฑุฉ ูููุฉ ุงููุตุฑ ูุงูุฌูุงููุฉ. ููุฏ ุดูุฏุช ุงูุงูุทูุงูุฉ ุญุถูุฑุงู ูุจูุฑุงู ูู ุฃุจูุงุก ุงูุฏุงุฆุฑุฉ ูุงููุคูุฏูู.',
        summary: 'ุงูุทูุงู ุฑุณูู ููุญููุฉ ุงูุงูุชุฎุงุจูุฉ ุจุญุถูุฑ ุฌูุงููุฑู ูุจูุฑ',
        category: 'ุฃุฎุจุงุฑ',
        isFeatured: true,
        author: admin._id,
        publishedAt: new Date()
      },
      {
        title: 'ููุงุก ูุน ุดุจุงุจ ูุฑูุฉ ุงูุฑูุงุถ',
        body: 'ุนูุฏ ุงููุฑุดุญ ููุงุกู ููุชูุญุงู ูุน ุดุจุงุจ ูุฑูุฉ ุงูุฑูุงุถ ูููุงูุดุฉ ูููููู ูุทููุญุงุชูู ูุงูุงุณุชูุงุน ุฅูู ููุชุฑุญุงุชูู ูุชุทููุฑ ุงููุฑูุฉ. ููุฏ ุชู ุงูุชุฃููุฏ ุนูู ุฃููููุฉ ุฏุนู ุงูุดุจุงุจ ูุชูููุฑ ูุฑุต ุนูู.',
        summary: 'ุญูุงุฑ ููุชูุญ ูุน ุงูุดุจุงุจ ุญูู ุงูุชูููุฉ ููุฑุต ุงูุนูู',
        category: 'ุฃูุดุทุฉ',
        author: admin._id,
        publishedAt: new Date(Date.now() - 86400000) // Yesterday
      }
    ];

    await News.insertMany(newsData);
    console.log('โ ุชู ุฅุถุงูุฉ ุฃุฎุจุงุฑ ุชุฌุฑูุจูุฉ');

    console.log('\nโจ ุชูุช ุนูููุฉ ุงูุชุนุจุฆุฉ ุจูุฌุงุญ!');
    console.log('\n๐ ุจูุงูุงุช ุงูุฏุฎูู:');
    console.log('   ุงุณู ุงููุณุชุฎุฏู: admin');
    console.log('   ูููุฉ ุงููุฑูุฑ: admin123');
    console.log('\n');

    process.exit(0);
  } catch (error) {
    console.error('โ ุฎุทุฃ ูู ุนูููุฉ ุงูุชุนุจุฆุฉ:', error);
    process.exit(1);
  }
};

seedDatabase();
