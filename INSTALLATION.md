# موقع المرشح محمد إبراهيم علي الناغي

## 🚀 دليل التشغيل السريع

### المتطلبات الأساسية
- Node.js 18+ 
- npm أو yarn
- MongoDB Atlas (الاتصال موجود بالفعل في الملفات)

---

## 📦 تثبيت المشروع

### 1. Backend (الخادم)

```bash
# الانتقال لمجلد Backend
cd backend

# تثبيت الحزم
npm install

# تعبئة قاعدة البيانات بالبيانات الأولية
npm run seed

# تشغيل الخادم
npm run dev
```

**الخادم سيعمل على:** `http://localhost:5000`

**بيانات الدخول الافتراضية:**
- اسم المستخدم: `admin`
- كلمة المرور: `admin123`

---

### 2. Frontend (الواجهة)

```bash
# في نافذة terminal جديدة
cd frontend

# تثبيت الحزم
npm install

# تشغيل التطبيق
npm run dev
```

**الموقع سيعمل على:** `http://localhost:3000`

---

## 🎯 الوصول للموقع

### الموقع العام
افتح المتصفح واذهب إلى: `http://localhost:3000`

الصفحات المتاحة:
- الرئيسية: `/`
- السيرة الذاتية: `/biography`
- البرنامج الانتخابي: `/program`
- الأخبار: `/news`
- الفعاليات: `/events`
- اسأل النائب: `/contact`
- الخريطة التفاعلية: `/map`
- الخدمات الحكومية: `/services`

### لوحة الإدارة
اذهب إلى: `http://localhost:3000/admin/login`

استخدم بيانات الدخول:
- اسم المستخدم: `admin`
- كلمة المرور: `admin123`

---

## 📂 هيكل المشروع

```
elnagy/
├── backend/                 # خادم Express + MongoDB
│   ├── config/             # إعدادات قاعدة البيانات
│   ├── models/             # نماذج MongoDB
│   ├── routes/             # API endpoints
│   ├── middleware/         # المصادقة والتحقق
│   ├── scripts/            # سكريبت التعبئة
│   └── server.js           # نقطة الدخول
│
├── frontend/               # تطبيق Next.js
│   ├── src/
│   │   ├── components/    # المكونات المشتركة
│   │   ├── pages/         # صفحات الموقع
│   │   ├── styles/        # ملفات CSS
│   │   └── lib/           # API وأدوات مساعدة
│   └── public/            # الملفات الثابتة
│
└── README.md
```

---

## ⚙️ الإعدادات

### Backend (.env)
الملف موجود بالفعل في `/backend/.env`
يحتوي على:
- اتصال MongoDB Atlas
- سر JWT
- إعدادات الخادم

### Frontend (.env.local)
الملف موجود في `/frontend/.env.local`
يحتوي على:
- عنوان API
- إعدادات الموقع

---

## 🔧 المميزات المتاحة

### للزوار:
✅ عرض البرنامج الانتخابي  
✅ قراءة الأخبار والأنشطة  
✅ عرض الفعاليات القادمة  
✅ إرسال رسائل واستفسارات  
✅ الخريطة التفاعلية للدائرة  
✅ روابط الخدمات الحكومية  

### للمسؤولين:
✅ إدارة الأخبار (إضافة/تعديل/حذف)  
✅ إدارة الفعاليات  
✅ عرض والرد على الرسائل  
✅ إدارة البرنامج الانتخابي  
✅ رفع وإدارة الملفات الإعلامية  

---

## 🛠️ الأوامر المتاحة

### Backend
```bash
npm run dev      # تشغيل في وضع التطوير
npm start        # تشغيل في وضع الإنتاج
npm run seed     # تعبئة قاعدة البيانات
```

### Frontend
```bash
npm run dev      # تشغيل في وضع التطوير
npm run build    # بناء للإنتاج
npm start        # تشغيل النسخة المبنية
```

---

## 📡 API Endpoints

جميع الـ endpoints تبدأ بـ `/api`

**المصادقة:**
- `POST /api/auth/login` - تسجيل الدخول
- `GET /api/auth/me` - المستخدم الحالي

**الأخبار:**
- `GET /api/news` - جميع الأخبار
- `POST /api/news` - إضافة خبر (يتطلب مصادقة)
- `PUT /api/news/:id` - تحديث خبر
- `DELETE /api/news/:id` - حذف خبر

**الرسائل:**
- `GET /api/messages` - جميع الرسائل (يتطلب مصادقة)
- `POST /api/messages` - إرسال رسالة (عام)
- `PUT /api/messages/:id` - تحديث/الرد على رسالة

**الفعاليات:**
- `GET /api/events` - جميع الفعاليات
- `POST /api/events` - إضافة فعالية

**البرنامج:**
- `GET /api/program` - البرنامج الانتخابي

---

## 🔒 الأمان

- تشفير كلمات المرور بـ bcrypt
- JWT للمصادقة
- Rate limiting على API
- حماية CORS
- Helmet للأمان

---

## 📞 الدعم

للمساعدة أو الاستفسارات:
- راجع ملفات الكود
- تحقق من console للأخطاء
- تأكد من عمل MongoDB Atlas

---

## 🎨 التخصيص

يمكنك تخصيص:
- الألوان في `tailwind.config.js`
- محتوى السيرة الذاتية في `/frontend/src/pages/biography.js`
- معلومات التواصل في Footer
- إحداثيات الخريطة في `/frontend/src/pages/map.js`

---

## 📝 ملاحظات مهمة

1. تأكد من تشغيل Backend قبل Frontend
2. يجب تشغيل `npm run seed` مرة واحدة لإنشاء بيانات تجريبية
3. MongoDB Atlas يجب أن يكون متاحاً للاتصال
4. للإنتاج، غيّر JWT_SECRET في ملف .env

---

## 🚀 نشر الموقع

### Backend
- يمكن نشره على AWS, DigitalOcean, Heroku, Railway
- تأكد من تحديث متغيرات البيئة

### Frontend
- يمكن نشره على Vercel, Netlify
- تأكد من ربطه بعنوان API الصحيح

---

**تم التطوير بكل احترافية لخدمة المرشح محمد إبراهيم علي الناغي** 🇪🇬
